<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="Generator" content="EditPlus®,Microshaoft">
	<meta name="Author" content="EditPlus®,Microshaoft">
	<meta name="Keywords" content="EditPlus®,Microshaoft">
	<meta name="Description" content="EditPlus®,Microshaoft">
	<title>Cross-Browser QRCode generator for Javascript</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="qrcode.js"></script>
</head>
<body>
<textarea id="text" rows="5" cols="100">
囍
满屏荒唐言
一把辛酸泪
都言作者痴
谁解比特位
~ Duang ~
</textarea>
<span id="text-count"></span>
&nbsp;&nbsp;
<button id="button" accesskey="q">Generate <strong><u>Q</u></strong>R Code</button>
<br />
<div id="qrcode" style="width:800px; height:800px; margin-top:15px; background-color:blue;"></div>

<script type="text/javascript">
    $("#text").on("input propertychange", function() {  
        var $this = $(this),  
            _val = $this.val(),  
            count = "";  
        count = $this.val().length;  
        $("#text-count").text(count);  
    });  
var qrcode = new QRCode(document.getElementById("qrcode"), {
	width : 790,
	height : 790
});

function makeCode () {		
	var elText = document.getElementById("text");
	
	if (!elText.value) {
		alert("Input a text");
		elText.focus();
		return;
	}
	qrcode.makeCode(elText.value);
}

makeCode();

$("#text").
	on("blur", function () {
		makeCode();
	});
	
$("#button").
	on("click", function () {
		makeCode();
	});	
</script>
</body>
